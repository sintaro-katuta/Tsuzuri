# 要件定義書：Tabiori-Scrap

## 1. プロジェクト概要
**コンセプト**: 「旅行前から後までを一枚のタイムラインで繋ぐ、共同編集型のしおりアルバム」
**必達目標**: 3日間でのMVPリリース

## 2. ターゲットユーザー
- 旅行の計画を友人と手軽に共有したい人
- 旅の思い出（写真と予定）を時系列でひとまとめに振り返りたい人

## 3. 機能要件 (MVP)

### 3.1 認証 (Auth)
- **Supabase Auth** を利用した **Googleログイン** のみサポート。
- ユーザー登録フローは設けず、Googleアカウントで即時利用開始とする。

### 3.2 旅行管理 (Trip)
- **旅行作成**: タイトル、開始日、終了日を指定して新規作成。
- **URL共有**: 旅行ごとにランダムなIDを含むURLを発行（例: `/trips/1a2b3c`）。
- **権限管理**:
    - 招待フローは実装しない（工数削減）。
    - **URLを知っているログインユーザーは全員「編集可能」** とする。
    - 未ログインユーザーは閲覧・編集不可（ログイン画面へリダイレクト）。

### 3.3 タイムライン (Timeline)
旅行の行程とアルバムを時系列順に表示するメイン機能。
以下の2種類のアイテムを同一タイムライン上に混在させる。

1.  **予定 (PLAN)**
    - タイトル（必須）
    - 時間
    - メモ
    - 場所（Google Mapへの外部リンクURLのみ。埋め込み表示はしない）
    - 完了フラグ（CheckBoxで切り替え）
2.  **写真 (PHOTO)**
    - 写真データ（Supabase Storageへアップロード）
    - コメント（任意）
    - 投稿日時（撮影日時または投稿時）

### 3.4 リアルタイム同期 (Realtime)
- Supabase Realtimeを使用。
- 他のユーザーが追加・編集した内容が、リロードなしで画面に反映されること。

## 4. UI/UX・デザイン要件
- **コンセプト**: 温かみのあるデジタルスクラップブック。
- **カラーパレット**:
    - ベース: ベージュ (#fdf5e6)
    - アクセント: 手書き感のあるブラウン、深緑
- **デザイン処理**:
    - 画像素材は作成せず、CSS (`border-radius`, `box-shadow`) で「ポラロイド風」「紙の重なり」を表現する。
    - フォント: Google Fonts (`Kaisei Decol` または `Yomogi`) をWebフォントとして使用。
- **レスポンシブ**: モバイルファーストで実装（旅行中にスマホで見ることを想定）。

## 5. 画面遷移図
1.  **LP / ログイン画面** (`/`)
    - アプリ説明と「Googleでログイン」ボタン。
2.  **マイページ (旅行一覧)** (`/dashboard`)
    - 自分が作成または閲覧した旅行の一覧。
    - 「新しい旅行を作る」フローティングボタン。
3.  **タイムライン (旅行詳細)** (`/trips/[id]`)
    - メイン画面。予定と写真の追加・閲覧・編集。

## 6. マイルストーン (3日間)
- **Day 1**: プロジェクトセットアップ、Supabase設計・構築、認証、旅行作成(CRUD)。
- **Day 2**: タイムライン表示、アイテム追加(PLAN/PHOTO)、Storage連携、リアルタイム機能。
- **Day 3**: UIデザイン適用、レスポンシブ対応、デプロイ、動作確認。